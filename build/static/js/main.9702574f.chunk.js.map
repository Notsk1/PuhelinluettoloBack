{"version":3,"sources":["components/Filter.js","components/Persons.js","components/PersonFrom.js","services/personService.js","components/Notfication.js","App.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","Persons","personsToShow","handleDelete","map","person","key","id","name","number","onClick","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","thing","className","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","notAll","setNotAll","errorMessage","setErrorMessage","setThing","hook","console","log","personService","initialPersons","useEffect","addNameSuc","numero","setTimeout","event","target","toLowerCase","filter","indexOf","preventDefault","truth","persont","returnedName","concat","window","confirm","find","n","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9702574f.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ newFilter, handleFilterChange }) => {\r\n    return (\r\n        <div>\r\n            filter shown with: <input value={newFilter}\r\n                onChange={handleFilterChange} />\r\n        </div>\r\n    )\r\n    \r\n}\r\nexport default Filter","import React from 'react'\r\n\r\nconst Persons = ({ personsToShow, handleDelete }) => {\r\n    return (\r\n        <ul>\r\n            {personsToShow.map(person =>\r\n                <li key={person.id}>\r\n                    {person.name} {person.number} <button onClick={() => handleDelete(person.id)} >delete</button>\r\n                </li>\r\n            )}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst PersonForm = ({ addName, newName, handleNameChange, newNumber, handleNumberChange }) => {\r\n    return (\r\n        <form onSubmit={addName}>\r\n            <div>\r\n                name: <input value={newName}\r\n                    onChange={handleNameChange} />\r\n            </div>\r\n            <div>\r\n                number: <input value={newNumber}\r\n                    onChange={handleNumberChange} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n\r\n}\r\nexport default PersonForm","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteThis = (id, person) => {\n  const request = axios.delete(`${baseUrl}/${id}`, person)\n  return request.then(response => response.data)\n}\n\nexport default {\n  getAll: getAll,\n  create: create,\n  update: update,\n  deleteThis: deleteThis\n}","import React from 'react'\r\nconst Notification = ({ message, thing }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    if (thing === 1) {\r\n        return (\r\n            <div className=\"error\">\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n    else {\r\n        return (\r\n            <div className=\"noti\">\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport Persons from './components/Persons'\r\nimport PersonForm from './components/PersonFrom'\r\nimport personService from './services/personService'\r\nimport Notification from './components/Notfication'\r\nimport './index.css'\r\n\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n    const [newFilter, setNewFilter] = useState('')\r\n    const [notAll, setNotAll] = useState(persons)\r\n    const [errorMessage, setErrorMessage] = useState(null)\r\n    const [thing, setThing] = useState(0)\r\n\r\n    const hook = () => {\r\n        console.log('effect')\r\n        personService\r\n            .getAll()\r\n            .then(initialPersons => {\r\n                setPersons(initialPersons)\r\n                setNotAll(initialPersons)\r\n            })\r\n    }\r\n\r\n    useEffect(hook, [])\r\n\r\n    const addNameSuc = (person, numero) => {\r\n        setThing(0)\r\n        if (numero === 0) {\r\n            setErrorMessage(\r\n                `Added ${person.name}`\r\n            )\r\n        }\r\n        else {\r\n            setErrorMessage(\r\n                `Changed ${person.name} number`\r\n            )\r\n        }\r\n        setTimeout(() => {\r\n            setErrorMessage(null)\r\n        }, 5000)\r\n    }\r\n    const addName = (event) => {\r\n        event.preventDefault()\r\n        setNewFilter('')\r\n        var truth = true;\r\n        for (var key in persons) {\r\n            var value = persons[key]\r\n            if (value.name === newName) {\r\n                truth = false\r\n                var persont = value\r\n            }\r\n        }\r\n        if (truth) {\r\n            const nameObject = {\r\n                name: newName,\r\n                number: newNumber,\r\n            }\r\n            personService\r\n                .create(nameObject)\r\n                .then(returnedName => {\r\n                    setPersons(persons.concat(returnedName))\r\n                    addNameSuc(returnedName, 0)\r\n                })\r\n            hook()\r\n        }\r\n        else {\r\n            var result = window.confirm(`${persont.name} is already added to phonebook, replace the old number\r\n                                        with a new one?`)\r\n            if (result) {\r\n                const newObject = {\r\n                    ...persont,\r\n                    number:newNumber\r\n                }\r\n                personService\r\n                    .update(persont.id, newObject)\r\n                    .then(returnedName => {\r\n                        setPersons(persons.concat(returnedName))\r\n                        addNameSuc(returnedName, 1)\r\n                    })            \r\n                hook()\r\n            }\r\n        }     \r\n        setNewName('')\r\n        setNewNumber('')\r\n       \r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const handleFilterChange = (event) => {\r\n        setNewFilter(event.target.value.toLowerCase())\r\n        setNotAll(persons.filter(\r\n            (persons) => {\r\n                return persons.name.toLowerCase().indexOf(newFilter.toLowerCase()) !== -1;\r\n            }\r\n        ))\r\n    }\r\n\r\n    const handleDelete = (id) => {\r\n        console.log(id)\r\n        const person = persons.find(n => n.id === id)\r\n        var result = window.confirm(`Delete ${person.name}?`)\r\n        if (result) {\r\n            personService\r\n                .deleteThis(id, person)\r\n                .catch(error => {\r\n                    setThing(1)\r\n                    setErrorMessage(\r\n                        `Persons '${person.name}' was already removed from server`\r\n                    )\r\n                    setTimeout(() => {\r\n                        setErrorMessage(null)\r\n                    }, 5000)\r\n                })\r\n            hook()\r\n        }     \r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification message={errorMessage} thing={thing}/>\r\n            <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\r\n            <h2>add a new</h2>\r\n            <PersonForm addName={addName} newName={newName} handleNameChange={handleNameChange}\r\n                newNumber={newNumber} handleNumberChange={handleNumberChange}/>\r\n            <h2>Numbers</h2>\r\n            <Persons personsToShow={notAll} handleDelete={handleDelete} />\r\n            {console.log('main frame')}\r\n        </div>\r\n        \r\n    )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}